{"ast":null,"code":"import axios from 'axios';\nconst USER_SERVICE_URL = 'http://localhost:8082'; // UserService port\nconst AUTH_SERVICE_URL = 'http://localhost:8081'; // AuthService port\n\nconst userApi = axios.create({\n  baseURL: USER_SERVICE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst authApi = axios.create({\n  baseURL: AUTH_SERVICE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\n[userApi, authApi].forEach(api => {\n  api.interceptors.request.use(config => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n});\nexport const authService = {\n  login: async credentials => {\n    // Use UserService for authentication\n    const response = await userApi.get('/users/login', {\n      params: {\n        email: credentials.username,\n        // assuming username is email\n        password: credentials.password\n      }\n    });\n\n    // Mock token generation for now\n    const mockToken = 'mock-jwt-token-' + Date.now();\n    return {\n      data: {\n        token: mockToken,\n        user: response.data\n      }\n    };\n  },\n  signup: async userData => {\n    const response = await userApi.post('/users/register', {\n      username: userData.username,\n      email: userData.email,\n      phone: userData.phone,\n      password: userData.password,\n      role: userData.role\n    });\n\n    // Mock token generation for signup\n    const mockToken = 'mock-jwt-token-' + Date.now();\n    return {\n      data: {\n        token: mockToken,\n        user: response.data\n      }\n    };\n  },\n  refreshToken: () => authApi.post('/auth/refresh')\n};","map":{"version":3,"names":["axios","USER_SERVICE_URL","AUTH_SERVICE_URL","userApi","create","baseURL","headers","authApi","forEach","api","interceptors","request","use","config","token","localStorage","getItem","Authorization","authService","login","credentials","response","get","params","email","username","password","mockToken","Date","now","data","user","signup","userData","post","phone","role","refreshToken"],"sources":["C:/Users/hp/OneDrive/Desktop/OneIndiaPayBackEnd/frontend/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\n\nconst USER_SERVICE_URL = 'http://localhost:8082'; // UserService port\nconst AUTH_SERVICE_URL = 'http://localhost:8081'; // AuthService port\n\nconst userApi = axios.create({\n  baseURL: USER_SERVICE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nconst authApi = axios.create({\n  baseURL: AUTH_SERVICE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add token to requests\n[userApi, authApi].forEach(api => {\n  api.interceptors.request.use((config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n});\n\nexport const authService = {\n  login: async (credentials) => {\n    // Use UserService for authentication\n    const response = await userApi.get('/users/login', {\n      params: {\n        email: credentials.username, // assuming username is email\n        password: credentials.password\n      }\n    });\n    \n    // Mock token generation for now\n    const mockToken = 'mock-jwt-token-' + Date.now();\n    return {\n      data: {\n        token: mockToken,\n        user: response.data\n      }\n    };\n  },\n  signup: async (userData) => {\n    const response = await userApi.post('/users/register', {\n      username: userData.username,\n      email: userData.email,\n      phone: userData.phone,\n      password: userData.password,\n      role: userData.role\n    });\n    \n    // Mock token generation for signup\n    const mockToken = 'mock-jwt-token-' + Date.now();\n    return {\n      data: {\n        token: mockToken,\n        user: response.data\n      }\n    };\n  },\n  refreshToken: () => authApi.post('/auth/refresh'),\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,gBAAgB,GAAG,uBAAuB,CAAC,CAAC;AAClD,MAAMC,gBAAgB,GAAG,uBAAuB,CAAC,CAAC;;AAElD,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAEJ,gBAAgB;EACzBK,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGP,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAEH,gBAAgB;EACzBI,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA,CAACH,OAAO,EAAEI,OAAO,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;EAChCA,GAAG,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;IACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACTD,MAAM,CAACP,OAAO,CAACW,aAAa,GAAG,UAAUH,KAAK,EAAE;IAClD;IACA,OAAOD,MAAM;EACf,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMK,WAAW,GAAG;EACzBC,KAAK,EAAE,MAAOC,WAAW,IAAK;IAC5B;IACA,MAAMC,QAAQ,GAAG,MAAMlB,OAAO,CAACmB,GAAG,CAAC,cAAc,EAAE;MACjDC,MAAM,EAAE;QACNC,KAAK,EAAEJ,WAAW,CAACK,QAAQ;QAAE;QAC7BC,QAAQ,EAAEN,WAAW,CAACM;MACxB;IACF,CAAC,CAAC;;IAEF;IACA,MAAMC,SAAS,GAAG,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAChD,OAAO;MACLC,IAAI,EAAE;QACJhB,KAAK,EAAEa,SAAS;QAChBI,IAAI,EAAEV,QAAQ,CAACS;MACjB;IACF,CAAC;EACH,CAAC;EACDE,MAAM,EAAE,MAAOC,QAAQ,IAAK;IAC1B,MAAMZ,QAAQ,GAAG,MAAMlB,OAAO,CAAC+B,IAAI,CAAC,iBAAiB,EAAE;MACrDT,QAAQ,EAAEQ,QAAQ,CAACR,QAAQ;MAC3BD,KAAK,EAAES,QAAQ,CAACT,KAAK;MACrBW,KAAK,EAAEF,QAAQ,CAACE,KAAK;MACrBT,QAAQ,EAAEO,QAAQ,CAACP,QAAQ;MAC3BU,IAAI,EAAEH,QAAQ,CAACG;IACjB,CAAC,CAAC;;IAEF;IACA,MAAMT,SAAS,GAAG,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAChD,OAAO;MACLC,IAAI,EAAE;QACJhB,KAAK,EAAEa,SAAS;QAChBI,IAAI,EAAEV,QAAQ,CAACS;MACjB;IACF,CAAC;EACH,CAAC;EACDO,YAAY,EAAEA,CAAA,KAAM9B,OAAO,CAAC2B,IAAI,CAAC,eAAe;AAClD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}